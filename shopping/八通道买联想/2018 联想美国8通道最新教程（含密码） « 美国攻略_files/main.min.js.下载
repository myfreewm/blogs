(function($){var zaq_us={header:'',init:function(){$('#nav-toggle').on('click',function(){zaq_us.nav_active()});$('#nav-toggleoff').on('click',function(){zaq_us.nav_deactive()});$('#sitenav-mask').on('click',function(){zaq_us.nav_deactive()});$('#search-toggleon').on('click',function(){zaq_us.search_active()});$('#search-toggleoff').on('click',function(){zaq_us.search_deactive()});$('#top_search_toggle').on('click',function(){zaq_us.search_active()});$('#top_searchoff').on('click',function(){zaq_us.search_deactive()})},nav_active:function(){$('body').addClass('sitenav-active')},nav_deactive:function(){$('body').removeClass('sitenav-active')},search_active:function(){$('body').addClass('search-active')},search_deactive:function(){$('body').removeClass('search-active')}};$(document).ready(function(){nopage=0;loading=0;loadcount=0;zaq_us.init();$(window).scroll(function(){var scrollHeight=$(document).height();var scrollTop=$(window).scrollTop();var windowHeight=$(window).innerHeight();scrollTop>50?$('#go_top').fadeIn(200).css("display","block"):$('#go_top').fadeOut(200);$('#bottom_tools').css("bottom",scrollHeight-scrollTop>windowHeight?40:windowHeight+scrollTop+40-scrollHeight)});$('#go_top').on('click',function(e){e.preventDefault();$('html,body').animate({scrollTop:0})});$('#get_more').on('click','a.next_link',function(e){loadcount++;e.preventDefault();var _this=$(this);var href=_this.attr("href");if(!loading&&!nopage&&href!=undefined){_this.hide();_this.siblings('.loading').show();loading=1;$.ajax({url:href,type:"get",error:function(request){loading=0;$('#get_more').html('<span class="nomore">发生错误</span>')},success:function(data){loading=0;var videos=$(data).find('.article');$('#articles').append(videos);var newhref=$(data).find("#get_more .next_link").attr("href");if(newhref!=undefined){_this.attr("href",newhref);_this.show();_this.siblings('.loading').hide()}else{nopage=1;_this.attr("href",'');$('#get_more').html('<span class="nomore">没有更多了</span>')}}})}return false});try{if($.isFunction($.fn.glide)){var carousel=$('#slider').glide({type:'carousel',startAt:1,touchDistance:2})}if($.isFunction($.fn.pin)){$("#sidebar_pin").pin({containerSelector:".container",minWidth:1180})}}catch(error){console.log(error)}})})(jQuery);